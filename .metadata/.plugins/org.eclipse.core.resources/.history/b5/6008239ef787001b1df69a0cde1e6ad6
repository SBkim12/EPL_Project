<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="poly.persistance.mapper.IUserMapper">

	<!-- 로그인  -->
	<select id="getLoginInfo" resultType="UserDTO">
	SELECT
		MEMBER_ID,  
		MEMBER_NAME, 
		MEMBER_SCORE, 
		MEMBER_POINT,
		FAVORITE_TEAM 
	FROM 
		MEMBER_DATA
	WHERE 
		MEMBER_ID=#{member_id} AND MEMBER_PWD=#{member_pwd}
	</select>
	
	<!-- 아이디 중복 확인 -->
	<select id="idCheck" resultType="UserDTO" parameterType="UserDTO" >
	SELECT
		MEMBER_ID
	FROM
		MEMBER_DATA
	WHERE
		MEMBER_ID = #{user_id}
	</select>
	
	<!-- 회원 가입 -->
	<insert id="userSignUp" parameterType="UserDTO" >
	INSERT INTO 
		MEMBER_DATA(
		MEMBER_NO,
		MEMBER_ID,  
		MEMBER_PWD,  
		MEMBER_NAME, 
		MEMBER_SCORE, 
		MEMBER_POINT,
		FAVORITE_TEAM 
		)VALUES(
		SELECT MAX(MEMBER_NO) FROM MEMBER_DATA
		#{member_id},
		#{member_pwd},
		#{member_name},
		0,
		0,
		#{favorite_team}
		)
	</insert>
	
	
</mapper>